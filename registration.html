<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Turtle Library Admin</title>
</head>
<body>
  <h1>도서 등록 관리자 페이지</h1>

  <!-- STEP 1: 위치 스캔 -->
  <section>
    <h2>Step 1. 문-칸 바코드 스캔</h2>
    <p>문-칸 바코드를 스캔하면 현재 위치가 설정됩니다. (예: 00101)</p>
    <input id="shelfInput" placeholder="문-칸 바코드 (예: 00101)" autofocus />
    <div id="currentLocation">현재 위치: (미설정)</div>
  </section>

  <hr />

  <!-- STEP 2: ISBN 스캔 및 정보 조회 -->
  <section>
    <h2>Step 2. ISBN 스캔 → 제목/저자 조회</h2>
    <input id="isbnInput" placeholder="ISBN 바코드 스캔" />
    <button id="fetchBookBtn" type="button">도서 정보 조회</button>
    <div>
      <label for="titleInput">제목: </label>
      <input id="titleInput" />
    </div>
    <div>
      <label for="authorInput">저자: </label>
      <input id="authorInput" />
    </div>
  </section>

  <hr />

  <!-- STEP 3: 책 고유 바코드 스캔 → Firestore 저장 -->
  <section>
    <h2>Step 3. 책 바코드 스캔 → DB 저장</h2>
    <input id="bookBarcodeInput" placeholder="책 고유 바코드 (숫자 3~20자리)" />
    <div>
      <button id="saveBtn" type="button">저장(수동)</button>
    </div>
  </section>

  <hr />

  <!-- 로그 출력 -->
  <pre id="log"></pre>

  <!-- Firebase compat SDK (로컬 file://에서도 동작하게 compat 버전 사용) -->
  <script src="https://www.gstatic.com/firebasejs/11.0.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.0.0/firebase-firestore-compat.js"></script>

  <!-- 관리자 로직 -->
  <script src="./registration.js"></script>
</body>
</html>
